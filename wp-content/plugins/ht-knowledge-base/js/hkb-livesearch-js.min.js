jQuery(document).ready((function(e){"use strict";var r=window.hkbJSSettings,s="hkb-jquery-live-search",t=e(".hkb-site-search__field").liveSearch({url:r.liveSearchUrl,keepTypingPrompt:r.keepTypingPrompt,id:s,onShowLiveSearch:a,triggerLength:r.triggerLength}),l=".hkb-searchresults",n=null,i=t.parents("form"),a=function(){null!=n&&n.removeClass("hkb-searchresults__current")};function h(){var r=e("#"+s),n=r.offset().top,i=r.height(),a=n+i,h=(t.height(),e(l).find("li.hkb-searchresults__current")),c=null;c=void 0===h||void 0===(c=h.offset())?0:c.top;var o=null;o=void 0===h?0:h.height();var u=null;u=void 0===h?0:h.index();var d=o+c,f=r.scrollTop(),p=e(l).children("li").length;0!==u?u+1!=p?d>a?r.scrollTop(f+o):c<n&&r.scrollTop(f-o):r.scrollTop(i+2*o):r.scrollTop(0)}t.bind("keydown",(function(r){switch(r.keyCode){case 9:return;case 40:r.preventDefault(),r.stopPropagation(),e(l).css("display","block"),null===n||n.length<=0?n=e(l).find("li").first().addClass("hkb-searchresults__current"):(a(),n=n.next("li").length<=0?e(l).find("li").first().addClass("hkb-searchresults__current"):n.next("li").addClass("hkb-searchresults__current")),h();break;case 38:r.preventDefault(),r.stopPropagation(),null===n||n.length<=0?n=e(l).find("li").last().addClass("hkb-searchresults__current"):(a(),n=n.prev("li").length<=0?e(l).find("li").last().addClass("hkb-searchresults__current"):n.prev("li").addClass("hkb-searchresults__current")),h();break;case 13:if(e(l).find(".current").length>0&&(n=e(l).find(".hkb-searchresults__current")),null!==n&&n.length>0){r.preventDefault(),r.stopPropagation();var s=n.find("a").first().attr("href");e(".hkb-searchresults").hide(),a(),n=null,window.location.href=s;break}i.first().submit();break;case 27:t.trigger("hideLiveSearch")}})),r.focusSearchBox&&(window.location.hash||jQuery(".hkb-site-search__field").focus())}));